FILE(GLOB SOURCE_FILES *.cpp)
FILE(GLOB INCLUDE_FILES *.h)

LINK_LIBRARIES(osimSimulation osimActuators)

ADD_EXECUTABLE(testIterators ${SOURCE_FILES} ${INCLUDE_FILES})

SET_TARGET_PROPERTIES(testIterators PROPERTIES
    ${EXCLUDE_IF_MINIMAL_BUILD}
    PROJECT_LABEL "Tests - testIterators"
)
SET(TEST_TARGET testIterators)
SET(TEST_DIR ${OpenSim_BINARY_DIR}/OpenSim/Tests/testIterators)
TARGET_LINK_LIBRARIES(${TEST_TARGET} ${LINK_LIBRARIES})

OPENSIM_COPY_TEST_RESOURCES(arm26.osim)

#
# Testing
#
IF (EXECUTABLE_OUTPUT_PATH)
  SET (TEST_PATH ${EXECUTABLE_OUTPUT_PATH})
ELSE (EXECUTABLE_OUTPUT_PATH)
  SET (TEST_PATH .)
ENDIF (EXECUTABLE_OUTPUT_PATH)

ADD_TEST(${TEST_TARGET} ${TEST_PATH}/${TEST_TARGET})

